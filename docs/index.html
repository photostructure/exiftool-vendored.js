<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>exiftool-vendored</title>
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.js" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">exiftool-vendored</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<ul class="tsd-breadcrumb">
				<li>
					<a href="globals.html">Globals</a>
				</li>
			</ul>
			<h1> exiftool-vendored</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<a href="#exiftool-vendored" id="exiftool-vendored" style="color: inherit; text-decoration: none;">
					<h1>exiftool-vendored</h1>
				</a>
				<p><strong>Fast, cross-platform <a href="https://nodejs.org/">Node.js</a> access to <a href="http://www.sno.phy.queensu.ca/~phil/exiftool/">ExifTool</a>.</strong></p>
				<p><a href="https://www.npmjs.com/package/exiftool-vendored"><img src="https://img.shields.io/npm/v/exiftool-vendored.svg" alt="npm version"></a>
					<a href="https://travis-ci.org/photostructure/exiftool-vendored.js"><img src="https://travis-ci.org/photostructure/exiftool-vendored.js.svg?branch=master" alt="Build status"></a>
					<a href="https://ci.appveyor.com/project/mceachen/exiftool-vendored/branch/master"><img src="https://ci.appveyor.com/api/projects/status/g5pfma7owvtsrrkm/branch/master?svg=true" alt="Build status"></a>
					<a href="https://github.com/photostructure/exiftool-vendored.js/issues"><img src="https://img.shields.io/github/issues/photostructure/exiftool-vendored.js.svg" alt="GitHub issues"></a>
					<a href="https://lgtm.com/projects/g/photostructure/exiftool-vendored.js/context:javascript"><img src="https://img.shields.io/lgtm/grade/javascript/g/photostructure/exiftool-vendored.js.svg" alt="Language grade: JavaScript"></a>
				<a href="https://snyk.io/test/github/photostructure/exiftool-vendored.js?targetFile=package.json"><img src="https://snyk.io/test/github/photostructure/exiftool-vendored.js/badge.svg?targetFile=package.json" alt="Known Vulnerabilities"></a></p>
				<a href="#features" id="features" style="color: inherit; text-decoration: none;">
					<h2>Features</h2>
				</a>
				<ol>
					<li><p><strong>Best-of-class cross-platform performance and reliability</strong>.</p>
						<p><em>Expect <a href="#performance">an order of magnitude faster performance</a> than other packages.</em></p>
					</li>
					<li><p>Proper extraction of</p>
						<ul>
							<li><strong>dates</strong> with <a href="#dates">correct timezone offset encoding, when available</a>)</li>
							<li><strong>latitudes &amp; longitudes</strong> as floats (where negative values indicate west or south of the meridian)</li>
						</ul>
					</li>
					<li><p>Support for</p>
						<ul>
							<li><a href="https://exiftool-vendored.js.org/classes/exiftool.html#read">reading tags</a></li>
							<li>extracting embedded binaries, like <a href="https://exiftool-vendored.js.org/classes/exiftool.html#extractthumbnail">thumbnail</a> and <a href="https://exiftool-vendored.js.org/classes/exiftool.html#extractpreview">preview</a> images</li>
							<li><a href="https://exiftool-vendored.js.org/classes/exiftool.html#write">writing tags</a></li>
							<li><a href="https://exiftool-vendored.js.org/classes/exiftool.html#rewritealltags">rescuing metadata</a></li>
						</ul>
					</li>
					<li><p><strong><a href="#tags">Robust type definitions</a></strong> of the top 99.5% tags used by over 6,000
						different camera makes and models (see an <a href="interfaces/exiftags.html">example</a>)</p>
					</li>
					<li><p><strong>Auditable ExifTool source code</strong> (the vendored code is
						<a href="http://owl.phy.queensu.ca/~phil/exiftool/checksums.txt">checksum verified</a>)</p>
					</li>
					<li><p><strong>Automated updates</strong> to ExifTool (<a href="http://www.sno.phy.queensu.ca/~phil/exiftool/history.html">as new versions come out
						monthly</a>)</p>
					</li>
					<li><p><strong>Robust test coverage</strong>, performed with <a href="https://nodejs.org/en/about/releases/">supported Node
								versions</a> on <a href="https://travis-ci.org/photostructure/exiftool-vendored.js">Linux,
							Mac</a>, &amp;
						<a href="https://ci.appveyor.com/project/mceachen/exiftool-vendored/branch/master">Windows</a>.</p>
					</li>
				</ol>
				<a href="#installation" id="installation" style="color: inherit; text-decoration: none;">
					<h2>Installation</h2>
				</a>
				<pre><code> yarn <span class="hljs-keyword">add</span><span class="bash"> exiftool-vendored</span></code></pre><p>or</p>
				<pre><code> npm <span class="hljs-keyword">install</span> <span class="hljs-comment">--save exiftool-vendored</span></code></pre><p>Note that <code>exiftool-vendored</code> provides an installation of ExifTool relevant
					for your local platform through
				<a href="https://docs.npmjs.com/files/package.json#optionaldependencies">optionalDependencies</a>.</p>
				<p>You shouldn&#39;t include either the <code>exiftool-vendored.exe</code> or
				<code>exiftool-vendored.pl</code> as direct dependencies to your project.</p>
				<p>If you&#39;re installing on a minimal Linux distribution, like
				<a href="https://alpinelinux.org/">Alpine</a>, you may need to install <code>perl</code> (Ã  la &quot;<code>apk add perl</code>&quot;).</p>
				<a href="#upgrading" id="upgrading" style="color: inherit; text-decoration: none;">
					<h2>Upgrading</h2>
				</a>
				<p>See the
					<a href="https://github.com/mceachen/exiftool-vendored.js/blob/master/CHANGELOG.md">CHANGELOG</a>
				for breaking changes since you last updated.</p>
				<a href="#major-version-bumps" id="major-version-bumps" style="color: inherit; text-decoration: none;">
					<h3>Major version bumps</h3>
				</a>
				<p>I bump the major version if there&#39;s a <strong>chance</strong> existing code might be
				affected.</p>
				<p>I&#39;ve been bit too many times by my code breaking when I pull in minor or patch
					upgrades with other libraries. I think it&#39;s better to be pessimistic in code
					change impact analysis: &quot;over-promise and under-deliver&quot; your breaking-code
				changes.</p>
				<p>When you upgrade to a new major version, please take a bit more care in
				validating your own systems, but don&#39;t be surprised when everything still works.</p>
				<a href="#usage" id="usage" style="color: inherit; text-decoration: none;">
					<h2>Usage</h2>
				</a>
				<p>There are many configuration options to ExifTool, but all values have (more or
				less sensible) defaults.</p>
				<p>Those defaults have been used to create the
					<a href="https://exiftool-vendored.js.org/globals.html#exiftool"><code>exiftool</code></a> singleton.
					Feel free to review the <a href="https://exiftool-vendored.js.org/classes/exiftool.html#constructor">ExifTool constructor
					parameters</a>
					and override default values where appropriate if the defaults wont&#39; work for
					you, but you should use your singleton to minimize system load. Note that if you
				<em>don&#39;t</em> use the default singleton, you don&#39;t need to <code>.end()</code> it.</p>
				<pre><code class="language-js"><span class="hljs-comment">// We're using the singleton here for convenience:</span>
<span class="hljs-keyword">const</span> exiftool = <span class="hljs-built_in">require</span>(<span class="hljs-string">"exiftool-vendored"</span>).exiftool

<span class="hljs-comment">// And to verify everything is working:</span>
exiftool
  .version()
  .then(<span class="hljs-function"><span class="hljs-params">version</span> =&gt;</span> <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`We're running ExifTool v<span class="hljs-subst">${version}</span>`</span>))</code></pre>
				<a href="#general-api" id="general-api" style="color: inherit; text-decoration: none;">
					<h3>General API</h3>
				</a>
				<p><code>ExifTool.read()</code> returns a Promise to a <a href="https://exiftool-vendored.js.org/interfaces/tags.html">Tags</a> instance. Note
					that errors may be returned either by rejecting the promise, or for less
				severe problems, via the <code>errors</code> field.</p>
				<p>All other public ExifTool methods return <code>Promise&lt;void&gt;</code>, and will reject
				the promise if the operation is not successful.</p>
				<a href="#errors-and-warnings" id="errors-and-warnings" style="color: inherit; text-decoration: none;">
					<h3>Errors and Warnings</h3>
				</a>
				<p>ExifTool has a pretty exhaustive set of error checking, and many &quot;errors&quot; are
					actually non-fatal warnings about invalid tag structures that seem to be
				regularly found in otherwise-not-corrupt images.</p>
				<p>If we rejected every <code>read</code> or <code>write</code> when any error happened, this would
					prevent reading and/or writing to otherwise-ok files. To &quot;demote&quot; errors to be
					warnings that don&#39;t reject the underlying task, you can provide either a
					<a href="interfaces/exiftooloptions.html#minorerrorsregexp"><code>minorErrorsRegExp</code></a>, or an
					implementation of
					<a href="interfaces/exiftooloptions.html#rejecttaskonstderr"><code>rejectTaskOnStderr</code></a>.
				Either of these parameters are provided to the <code>ExifTool</code> constructor.</p>
				<a href="#logging-and-events" id="logging-and-events" style="color: inherit; text-decoration: none;">
					<h3>Logging and events</h3>
				</a>
				<p>To enable trace, debug, info, warning, or error logging from this library and
					the underlying <code>batch-cluster</code> library,
					use<a href="globals.html#setlogger"><code>setLogger</code></a>. Example
					code can be found
				<a href="https://github.com/photostructure/batch-cluster.js/blob/master/src/_chai.spec.ts#L20">here</a>.</p>
				<p>ExifTool instances emits events for &quot;startError&quot;, &quot;taskError&quot;, &quot;endError&quot;,
					&quot;beforeEnd&quot;, and &quot;end&quot; that you can register listeners for, using
				<a href="https://batch-cluster.js.org/classes/batchcluster.html#on">on</a>.</p>
				<a href="#reading-tags" id="reading-tags" style="color: inherit; text-decoration: none;">
					<h3>Reading tags</h3>
				</a>
				<pre><code class="language-js">exiftool
  .read(<span class="hljs-string">"path/to/image.jpg"</span>)
  .then(<span class="hljs-function">(<span class="hljs-params">tags <span class="hljs-regexp">/*: Tags */</span></span>) =&gt;</span>
    <span class="hljs-built_in">console</span>.log(
      <span class="hljs-string">`Make: <span class="hljs-subst">${tags.Make}</span>, Model: <span class="hljs-subst">${tags.Model}</span>, Errors: <span class="hljs-subst">${tags.errors}</span>`</span>
    )
  )
  .catch(<span class="hljs-function"><span class="hljs-params">err</span> =&gt;</span> <span class="hljs-built_in">console</span>.error(<span class="hljs-string">"Something terrible happened: "</span>, err))</code></pre>
				<a href="#extracting-embedded-images" id="extracting-embedded-images" style="color: inherit; text-decoration: none;">
					<h3>Extracting embedded images</h3>
				</a>
				<p>Extract the low-resolution thumbnail in <code>path/to/image.jpg</code>, write it to
					<code>path/to/thumbnail.jpg</code>, and return a <code>Promise&lt;void&gt;</code> that is fulfilled
				when the image is extracted:</p>
				<pre><code class="language-js">exiftool.extractThumbnail(<span class="hljs-string">"path/to/image.jpg"</span>, <span class="hljs-string">"path/to/thumbnail.jpg"</span>)</code></pre>
				<p>Extract the <code>Preview</code> image (only found in some images):</p>
				<pre><code class="language-js">exiftool.extractPreview(<span class="hljs-string">"path/to/image.jpg"</span>, <span class="hljs-string">"path/to/preview.jpg"</span>)</code></pre>
				<p>Extract the <code>JpgFromRaw</code> image (found in some RAW images):</p>
				<pre><code class="language-js">exiftool.extractJpgFromRaw(<span class="hljs-string">"path/to/image.cr2"</span>, <span class="hljs-string">"path/to/fromRaw.jpg"</span>)</code></pre>
				<p>Extract the binary value from &quot;tagname&quot; tag in <code>path/to/image.jpg</code>
					and write it to <code>dest.bin</code> (which cannot exist already
				and whose parent directory must already exist):</p>
				<pre><code class="language-js">exiftool.extractBinaryTag(<span class="hljs-string">"tagname"</span>, <span class="hljs-string">"path/to/file.exf"</span>, <span class="hljs-string">"path/to/dest.bin"</span>)</code></pre>
				<a href="#writing-tags" id="writing-tags" style="color: inherit; text-decoration: none;">
					<h3>Writing tags</h3>
				</a>
				<p>Note that only a portion of tags are writable. Refer to <a href="https://sno.phy.queensu.ca/~phil/exiftool/TagNames/index.html">the
					documentation</a>
				and look under the &quot;Writable&quot; column.</p>
				<p>If you apply malformed values or ask to write to tags that aren&#39;t
				supported, the returned <code>Promise</code> will be rejected.</p>
				<p>Only string and numeric primitive are supported as values to the object</p>
				<p>Write a comment to the given file so it shows up in the Windows Explorer
				Properties panel:</p>
				<pre><code class="language-js">exiftool.write(<span class="hljs-string">"path/to/file.jpg"</span>, { <span class="hljs-attr">XPComment</span>: <span class="hljs-string">"this is a test comment"</span> })</code></pre>
				<p>Change the DateTimeOriginal, CreateDate and ModifyDate tags (using the
					<a href="https://sno.phy.queensu.ca/~phil/exiftool/TagNames/Shortcuts.html">AllDates</a>
				shortcut) to 4:56pm UTC on February 6, 2016:</p>
				<pre><code class="language-js">exiftool.write(<span class="hljs-string">"path/to/file.jpg"</span>, { <span class="hljs-attr">AllDates</span>: <span class="hljs-string">"2016-02-06T16:56:00"</span> })</code></pre>
				<a href="#always-beware-timezones" id="always-beware-timezones" style="color: inherit; text-decoration: none;">
					<h3>Always Beware: Timezones</h3>
				</a>
				<p>If you edit a timestamp tag, realize that the difference between the
					changed timestamp tag and the GPS value is used by <code>exiftool-vendored</code> to
				infer the timezone.</p>
				<p>In other words, if you only edit the <code>CreateDate</code> and don&#39;t edit the <code>GPS</code>
					timestamps, your timezone will either be incorrect or missing. See the
				section about <a href="#dates">Dates</a> below for more information.</p>
				<a href="#rewriting-tags" id="rewriting-tags" style="color: inherit; text-decoration: none;">
					<h3>Rewriting tags</h3>
				</a>
				<p>You may find that some of your images have corrupt metadata, and that writing
					new dates, or editing the rotation information, for example, fails. ExifTool can
					try to repair these images by rewriting all the metadata into a new file, along
					with the original image content. See the
					<a href="http://owl.phy.queensu.ca/~phil/exiftool/faq.html#Q20">documentation</a> for more
				details about this functionality.</p>
				<p><code>rewriteAllTags</code> returns a void Promise that will be rejected if there are any
				errors.</p>
				<pre><code class="language-js">exiftool.rewriteAllTags(<span class="hljs-string">"problematic.jpg"</span>, <span class="hljs-string">"rewritten.jpg"</span>)</code></pre>
				<a href="#exiftool-configuration-support-codeexiftool_configcode" id="exiftool-configuration-support-codeexiftool_configcode" style="color: inherit; text-decoration: none;">
					<h3>ExifTool configuration support (<code>.ExifTool_config</code>)</h3>
				</a>
				<p>ExifTool has an <a href="http://owl.phy.queensu.ca/~phil/exiftool/config.html">extensive user configuration system</a>. There are several ways to use one:</p>
				<ol>
					<li>Place your <a href="http://owl.phy.queensu.ca/~phil/exiftool/config.html">user configuration
						file</a> in your <code>HOME</code>
					directory</li>
					<li>Set the <code>EXIFTOOL_HOME</code> environment variable to the fully-qualified path that
					contains your user config.</li>
					<li>Specify the in the ExifTool constructor options:</li>
				</ol>
				<pre><code class="language-js"><span class="hljs-keyword">new</span> ExifTool({ <span class="hljs-attr">exiftoolEnv</span>: { <span class="hljs-attr">EXIFTOOL_HOME</span>: resolve(<span class="hljs-string">"path"</span>, <span class="hljs-string">"to"</span>, <span class="hljs-string">"config"</span>, <span class="hljs-string">"dir"</span>) }</code></pre>
				<a href="#resource-hygiene" id="resource-hygiene" style="color: inherit; text-decoration: none;">
					<h2>Resource hygiene</h2>
				</a>
				<p><strong>Always remember to call <code>.end()</code>.</strong></p>
				<p>ExifTool child processes consume system resources. Ensure you don&#39;t leave zombie
					processes around by calling <code>.end()</code>, which returns a <code>Promise&lt;void&gt;</code> if you
				want to wait for the shutdown to be complete.</p>
				<a href="#mocha-v400" id="mocha-v400" style="color: inherit; text-decoration: none;">
					<h3>Mocha v4.0.0</h3>
				</a>
				<p>If you use <a href="https://mochajs.org/">mocha</a> v4 or later, and you don&#39;t call
					<code>exiftool.end()</code>, you will find that your test suite hangs. <a href="https://github.com/mochajs/mocha/issues/3044">The relevant
					change is described here</a>,
					and can be solved by adding an <code>after</code> block that shuts down the instance
				of ExifTool that your tests are using:</p>
				<pre><code class="language-js">after(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> exiftool.end()) <span class="hljs-comment">// assuming your singleton is called `exiftool`</span></code></pre>
				<a href="#dates" id="dates" style="color: inherit; text-decoration: none;">
					<h2>Dates</h2>
				</a>
				<p><strong>The date metadata in all your images and videos are, most likely,
				underspecified.</strong></p>
				<p>Images and videos rarely specify a time zone in their dates. If all your files
					were captured in your current time zone, defaulting to the local time zone is a
					safe assumption, but if you have files that were captured in different parts of
					the world, <strong>this assumption will not be correct</strong>. Parsing the same file in
				different parts of the world results in a different times for the same file.</p>
				<p>Prior to version 7, heuristic 1 and 3 was applied.</p>
				<p>As of version 7.0.0, <code>exiftool-vendored</code> uses the following heuristics. The
					highest-priority heuristic to return a value will be used as the timezone offset
				for all datetime tags that don&#39;t already have a specified timezone.</p>
				<a href="#heuristic-1-explicit-metadata" id="heuristic-1-explicit-metadata" style="color: inherit; text-decoration: none;">
					<h3>Heuristic 1: explicit metadata</h3>
				</a>
				<p>If the <a href="https://sno.phy.queensu.ca/~phil/exiftool/TagNames/EXIF.html">EXIF</a>
					<code>TimeZoneOffset</code> tag is present it will be applied as per the spec to
					<code>DateTimeOriginal</code>, and if there are two values, the <code>ModifyDate</code> tag as well.
					<code>OffsetTime</code>, <code>OffsetTimeOriginal</code>, and <code>OffsetTimeDigitized</code> are also
				respected, if present (but are very rarely set).</p>
				<a href="#heuristic-2-gps-location" id="heuristic-2-gps-location" style="color: inherit; text-decoration: none;">
					<h3>Heuristic 2: GPS location</h3>
				</a>
				<p>If GPS latitude and longitude is present and valid (the value of <code>0, 0</code> is
					considered invalid), the <code>tz-lookup</code> library will be used to determine the time
				zone name for that location.</p>
				<a href="#heuristic-3-utc-timestamps" id="heuristic-3-utc-timestamps" style="color: inherit; text-decoration: none;">
					<h3>Heuristic 3: UTC timestamps</h3>
				</a>
				<p>If <code>GPSDateTime</code> or <code>DateTimeUTC</code> is present, the delta with the dates found
					within the file, as long as the delta is valid, is used as the timezone offset.
				Deltas of &gt; 14 hours are considered invalid.</p>
				<a href="#exifdate-and-exifdatetime" id="exifdate-and-exifdatetime" style="color: inherit; text-decoration: none;">
					<h3>ExifDate and ExifDateTime</h3>
				</a>
				<p>Because datetimes have this optionally-set timezone, and some tags only specify
					the date, this library returns classes that encode the date, the time of day, or
					both, <strong>with an optional timezone and an optional tzoffset</strong>: <code>ExifDateTime</code> and
					<code>ExifTime</code>. It&#39;s up to you, then, to determine what&#39;s correct for your
				situation.</p>
				<p>Note also that some smartphones record timestamps with microsecond precision
					(not just millis!), and both <code>ExifDateTime</code> and <code>ExifTime</code> have floating point
				milliseconds.</p>
				<a href="#tags" id="tags" style="color: inherit; text-decoration: none;">
					<h2>Tags</h2>
				</a>
				<p>Official <a href="http://www.cipa.jp/std/documents/e/DC-008-2012_E.pdf">EXIF</a> tag names
					are <a href="https://en.wikipedia.org/wiki/PascalCase">PascalCased</a>, like
					<code>AFPointSelected</code> and <code>ISO</code>. (&quot;Fixing&quot; the field names to be camelCase, would
				result in ungainly <code>aFPointSelected</code> and <code>iSO</code> atrocities).</p>
				<p>The <a href="https://exiftool-vendored.js.org/interfaces/tags.html">Tags</a> interface is
					auto-generated by the <code>mktags</code> script, which parses through over 6,000 unique
					camera make and model images, in large part sourced from the ExifTool site.
					<code>mktags</code> groups tags, extracts their type, popularity, and example values such
				that your IDE can autocomplete.</p>
				<p>For an example of a group of tags, see the <a href="interfaces/exiftags.html">EXIFTags
				interface</a>.</p>
				<p>Tags marked with &quot;â˜…â˜…â˜…â˜…&quot;, like
					<a href="https://exiftool-vendored.js.org/interfaces/filetags.html#mimetype">MIMEType</a>,
					should be found in most files. Of the several thousand metadata tags, realize
					less than 50 are found generally. You&#39;ll need to do your own research to
				determine which tags are valid for your uses.</p>
				<p>Note that if parsing fails (for, example, a datetime string), the raw string
					will be returned. Consuming code should verify both existence and type as
				reasonable for safety.</p>
				<a href="#performance" id="performance" style="color: inherit; text-decoration: none;">
					<h2>Performance</h2>
				</a>
				<p>The <code>npm run mktags</code> target reads all tags found in a batch of sample images and
				parses the results.</p>
				<p>Using <code>exiftool-vendored</code>:</p>
				<pre><code class="language-sh">Read 2236 unique tags from 3011 files.
Parsing took 16191ms (5.4ms / file) <span class="hljs-comment"># win32, core i7, maxProcs 4</span>
Parsing took 27141ms (9.0ms / file) <span class="hljs-comment"># ubuntu, core i3, maxProcs 1</span>
Parsing took 12545ms (4.2ms / file) <span class="hljs-comment"># ubuntu, core i3, maxProcs 4</span></code></pre>
				<p>Using the <code>exiftool</code> npm package takes 7x longer (and doesn&#39;t work on Windows):</p>
				<pre><code class="language-sh">Reading 3011 files...
Parsing took 85654ms (28.4ms / file) <span class="hljs-comment"># ubuntu, core i3</span></code></pre>
				<a href="#batch-mode" id="batch-mode" style="color: inherit; text-decoration: none;">
					<h3>Batch mode</h3>
				</a>
				<p>Starting the perl version of ExifTool is expensive, and is <em>especially</em>
				expensive on the Windows version of ExifTool.</p>
				<p>On Windows, for <strong>every invocation</strong>, <code>exiftool</code> <em>installs a distribution of
					Perl <strong>and</strong> extracts the ~1000 files that make up ExifTool</em>, and <strong>then</strong> runs
					the perl script. Windows virus scanners prevent reads on these files while they
				are scanned, which makes this approach even more costly.</p>
				<p>Using ExifTool&#39;s <code>-stay_open</code> batch mode means we can reuse a single
					instance of ExifTool across many requests, dropping response latency
				dramatically as well as reducing system load.</p>
				<a href="#parallelism" id="parallelism" style="color: inherit; text-decoration: none;">
					<h3>Parallelism</h3>
				</a>
				<p>To avoid overwhelming your system, the <code>exiftool</code> singleton is configured with a
					<code>maxProcs</code> set to a quarter the number of CPUs on the current system (minimally
					1); no more than <code>maxProcs</code> instances of <code>exiftool</code> will be spawned. If the
					system is CPU constrained, however, you may want a smaller value. If you have
					very fast disk IO, you may see a speed increase with larger values of
				<code>maxProcs</code>, but note that each child process can consume 100 MB of RAM.</p>
				<a href="#author" id="author" style="color: inherit; text-decoration: none;">
					<h2>Author</h2>
				</a>
				<ul>
					<li><a href="https://github.com/mceachen">Matthew McEachen</a></li>
				</ul>
				<a href="#contributors-ðŸŽ‰" id="contributors-ðŸŽ‰" style="color: inherit; text-decoration: none;">
					<h2>Contributors ðŸŽ‰</h2>
				</a>
				<ul>
					<li><a href="https://github.com/Circuit8">Joshua Harris</a></li>
					<li><a href="https://github.com/amokrushin">Anton Mokrushin</a></li>
					<li><a href="https://github.com/mesqueeb">Luca Ban</a></li>
					<li><a href="https://github.com/apolkingg8">Demiurga</a></li>
					<li><a href="https://github.com/draity">David Randler</a></li>
				</ul>
				<a href="#changelog" id="changelog" style="color: inherit; text-decoration: none;">
					<h2>CHANGELOG</h2>
				</a>
				<p>See the
				<a href="https://github.com/mceachen/exiftool-vendored.js/blob/master/CHANGELOG.md">CHANGELOG</a> on github.</p>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class="globals  ">
						<a href="globals.html"><em>Globals</em></a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
					<li class=" tsd-kind-class">
						<a href="classes/binaryextractiontask.html" class="tsd-kind-icon">Binary<wbr>Extraction<wbr>Task</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/exifdate.html" class="tsd-kind-icon">Exif<wbr>Date</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/exifdatetime.html" class="tsd-kind-icon">Exif<wbr>Date<wbr>Time</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/exiftime.html" class="tsd-kind-icon">Exif<wbr>Time</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/exiftool.html" class="tsd-kind-icon">Exif<wbr>Tool</a>
					</li>
					<li class=" tsd-kind-class tsd-has-type-parameter">
						<a href="classes/exiftooltask.html" class="tsd-kind-icon">Exif<wbr>Tool<wbr>Task</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/readrawtask.html" class="tsd-kind-icon">Read<wbr>Raw<wbr>Task</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/readtask.html" class="tsd-kind-icon">Read<wbr>Task</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/rewritealltagstask.html" class="tsd-kind-icon">Rewrite<wbr>All<wbr>Tags<wbr>Task</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/versiontask.html" class="tsd-kind-icon">Version<wbr>Task</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/writetask.html" class="tsd-kind-icon">Write<wbr>Task</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/app0tags.html" class="tsd-kind-icon">APP0<wbr>Tags</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/app12tags.html" class="tsd-kind-icon">APP12<wbr>Tags</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/app14tags.html" class="tsd-kind-icon">APP14<wbr>Tags</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/app1tags.html" class="tsd-kind-icon">APP1<wbr>Tags</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/app6tags.html" class="tsd-kind-icon">APP6<wbr>Tags</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/applicationrecordtags.html" class="tsd-kind-icon">Application<wbr>Record<wbr>Tags</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/compositetags.html" class="tsd-kind-icon">Composite<wbr>Tags</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/exiftags.html" class="tsd-kind-icon">EXIFTags</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/exiftooloptions.html" class="tsd-kind-icon">Exif<wbr>Tool<wbr>Options</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/exiftooltags.html" class="tsd-kind-icon">Exif<wbr>Tool<wbr>Tags</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/filetags.html" class="tsd-kind-icon">File<wbr>Tags</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/flashpixtags.html" class="tsd-kind-icon">Flash<wbr>Pix<wbr>Tags</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/icc_profiletags.html" class="tsd-kind-icon">ICC_<wbr><wbr>Profile<wbr>Tags</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/iptctags.html" class="tsd-kind-icon">IPTCTags</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/jfiftags.html" class="tsd-kind-icon">JFIFTags</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/mpftags.html" class="tsd-kind-icon">MPFTags</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/makernotestags.html" class="tsd-kind-icon">Maker<wbr>Notes<wbr>Tags</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/metatags.html" class="tsd-kind-icon">Meta<wbr>Tags</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/panasonicrawtags.html" class="tsd-kind-icon">Panasonic<wbr>Raw<wbr>Tags</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/photoshoptags.html" class="tsd-kind-icon">Photoshop<wbr>Tags</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/printimtags.html" class="tsd-kind-icon">PrintIMTags</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/quicktimetags.html" class="tsd-kind-icon">Quick<wbr>Time<wbr>Tags</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/raftags.html" class="tsd-kind-icon">RAFTags</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/rifftags.html" class="tsd-kind-icon">RIFFTags</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/shortcuttags.html" class="tsd-kind-icon">Shortcut<wbr>Tags</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/tags.html" class="tsd-kind-icon">Tags</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/xmptags.html" class="tsd-kind-icon">XMPTags</a>
					</li>
					<li class=" tsd-kind-type-alias">
						<a href="globals.html#dateortime" class="tsd-kind-icon">Date<wbr>OrTime</a>
					</li>
					<li class=" tsd-kind-type-alias tsd-has-type-parameter">
						<a href="globals.html#maybe" class="tsd-kind-icon">Maybe</a>
					</li>
					<li class=" tsd-kind-type-alias tsd-has-type-parameter">
						<a href="globals.html#maybenull" class="tsd-kind-icon">Maybe<wbr>Null</a>
					</li>
					<li class=" tsd-kind-type-alias">
						<a href="globals.html#struct" class="tsd-kind-icon">Struct</a>
					</li>
					<li class=" tsd-kind-type-alias">
						<a href="globals.html#writetags" class="tsd-kind-icon">Write<wbr>Tags</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#dayms" class="tsd-kind-icon">Day<wbr>Ms</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#defaultexiftooloptions" class="tsd-kind-icon">Default<wbr>Exif<wbr>Tool<wbr>Options</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#defaultexiftoolpath" class="tsd-kind-icon">Default<wbr>Exif<wbr>Tool<wbr>Path</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#defaultexiftoolargs" class="tsd-kind-icon">Default<wbr>Exiftool<wbr>Args</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#defaultmaxprocs" class="tsd-kind-icon">Default<wbr>Max<wbr>Procs</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#hourms" class="tsd-kind-icon">Hour<wbr>Ms</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#maxtzoffsethours" class="tsd-kind-icon">Max<wbr>TzOffset<wbr>Hours</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#minutems" class="tsd-kind-icon">Minute<wbr>Ms</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#exiftool" class="tsd-kind-icon">exiftool</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="globals.html#blank" class="tsd-kind-icon">blank</a>
					</li>
					<li class=" tsd-kind-function tsd-has-type-parameter">
						<a href="globals.html#compact" class="tsd-kind-icon">compact</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="globals.html#datetimetoexif" class="tsd-kind-icon">date<wbr>Time<wbr>ToExif</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="globals.html#extractoffset" class="tsd-kind-icon">extract<wbr>Offset</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="globals.html#extracttzoffsetfromtags" class="tsd-kind-icon">extract<wbr>TzOffset<wbr>From<wbr>Tags</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="globals.html#extracttzoffsetfromutcoffset" class="tsd-kind-icon">extract<wbr>TzOffset<wbr>FromUTCOffset</a>
					</li>
					<li class=" tsd-kind-function tsd-has-type-parameter">
						<a href="globals.html#filterinplace" class="tsd-kind-icon">filter<wbr>InPlace</a>
					</li>
					<li class=" tsd-kind-function tsd-has-type-parameter">
						<a href="globals.html#first" class="tsd-kind-icon">first</a>
					</li>
					<li class=" tsd-kind-function tsd-has-type-parameter">
						<a href="globals.html#firstdefinedthunk" class="tsd-kind-icon">first<wbr>Defined<wbr>Thunk</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="globals.html#htmlencode" class="tsd-kind-icon">html<wbr>Encode</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="globals.html#isdateortime" class="tsd-kind-icon">is<wbr>Date<wbr>OrTime</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="globals.html#isfunction" class="tsd-kind-icon">is<wbr>Function</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="globals.html#isnumber" class="tsd-kind-icon">is<wbr>Number</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="globals.html#isstring" class="tsd-kind-icon">is<wbr>String</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="globals.html#isstruct" class="tsd-kind-icon">is<wbr>Struct</a>
					</li>
					<li class=" tsd-kind-function tsd-has-type-parameter">
						<a href="globals.html#keys" class="tsd-kind-icon">keys</a>
					</li>
					<li class=" tsd-kind-function tsd-has-type-parameter">
						<a href="globals.html#lazy" class="tsd-kind-icon">lazy</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="globals.html#leftpad" class="tsd-kind-icon">left<wbr>Pad</a>
					</li>
					<li class=" tsd-kind-function tsd-has-type-parameter">
						<a href="globals.html#map" class="tsd-kind-icon">map</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="globals.html#notblank" class="tsd-kind-icon">not<wbr>Blank</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="globals.html#nullish" class="tsd-kind-icon">nullish</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="globals.html#offsetminutestozonename" class="tsd-kind-icon">offset<wbr>Minutes<wbr>ToZone<wbr>Name</a>
					</li>
					<li class=" tsd-kind-function tsd-has-type-parameter">
						<a href="globals.html#orelse" class="tsd-kind-icon">or<wbr>Else</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="globals.html#pad2" class="tsd-kind-icon">pad2</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="globals.html#pad3" class="tsd-kind-icon">pad3</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="globals.html#reasonabletzoffsetminutes" class="tsd-kind-icon">reasonable<wbr>TzOffset<wbr>Minutes</a>
					</li>
					<li class=" tsd-kind-function tsd-has-type-parameter">
						<a href="globals.html#retryonreject" class="tsd-kind-icon">retry<wbr>OnReject</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="globals.html#stripprefix" class="tsd-kind-icon">strip<wbr>Prefix</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="globals.html#stripsuffix" class="tsd-kind-icon">strip<wbr>Suffix</a>
					</li>
					<li class=" tsd-kind-function tsd-has-type-parameter">
						<a href="globals.html#times" class="tsd-kind-icon">times</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="globals.html#toexifstring" class="tsd-kind-icon">to<wbr>Exif<wbr>String</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="globals.html#tof" class="tsd-kind-icon">toF</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="globals.html#toi" class="tsd-kind-icon">toI</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="globals.html#tos" class="tsd-kind-icon">toS</a>
					</li>
					<li class=" tsd-kind-function tsd-has-type-parameter">
						<a href="globals.html#uniq" class="tsd-kind-icon">uniq</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="globals.html#validdatetime" class="tsd-kind-icon">valid<wbr>Date<wbr>Time</a>
					</li>
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-module"><span class="tsd-kind-icon">Module</span></li>
				<li class="tsd-kind-object-literal"><span class="tsd-kind-icon">Object literal</span></li>
				<li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li>
				<li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li>
				<li class="tsd-kind-function tsd-has-type-parameter"><span class="tsd-kind-icon">Function with type parameter</span></li>
				<li class="tsd-kind-index-signature"><span class="tsd-kind-icon">Index signature</span></li>
				<li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type alias</span></li>
				<li class="tsd-kind-type-alias tsd-has-type-parameter"><span class="tsd-kind-icon">Type alias with type parameter</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-enum"><span class="tsd-kind-icon">Enumeration</span></li>
				<li class="tsd-kind-enum-member"><span class="tsd-kind-icon">Enumeration member</span></li>
				<li class="tsd-kind-property tsd-parent-kind-enum"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-enum"><span class="tsd-kind-icon">Method</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li>
				<li class="tsd-kind-interface tsd-has-type-parameter"><span class="tsd-kind-icon">Interface with type parameter</span></li>
				<li class="tsd-kind-constructor tsd-parent-kind-interface"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-interface"><span class="tsd-kind-icon">Method</span></li>
				<li class="tsd-kind-index-signature tsd-parent-kind-interface"><span class="tsd-kind-icon">Index signature</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li>
				<li class="tsd-kind-class tsd-has-type-parameter"><span class="tsd-kind-icon">Class with type parameter</span></li>
				<li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class"><span class="tsd-kind-icon">Accessor</span></li>
				<li class="tsd-kind-index-signature tsd-parent-kind-class"><span class="tsd-kind-icon">Index signature</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-constructor tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static property</span></li>
				<li class="tsd-kind-call-signature tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static method</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
<script>if (location.protocol == 'file:') document.write('<script src="assets/js/search.js"><' + '/script>');</script>
</body>
</html>